---
title: API Reference
description: Complete API reference for sequelize-guard.
icon: ShieldCheck
---


## Classes

### SequelizeGuard

Defined in: [SequelizeGuard.ts:26](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/SequelizeGuard.ts#L26)

SequelizeGuard - Authorization library for Sequelize

#### Example

```typescript
const sequelize = new Sequelize(...);
const guard = new SequelizeGuard(sequelize, options);

// Assign roles
await user.assignRole('admin');

// Create permissions
await guard.allow('admin', ['view', 'edit'], 'blog');

// Check permissions
const canEdit = await user.can('edit blog');
```

#### Extends

- `SequelizeGuardBase`

#### Constructors

##### Constructor

```ts
new SequelizeGuard(sequelize, options): SequelizeGuard;
```

Defined in: [SequelizeGuard.ts:53](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/SequelizeGuard.ts#L53)

Creates a SequelizeGuard instance

###### Parameters

###### sequelize

`Sequelize`

A Sequelize instance

###### options

[`GuardOptions`](#guardoptions) = `{}`

Custom configuration options

###### Returns

[`SequelizeGuard`](#sequelizeguard)

###### Overrides

```ts
SequelizeGuardBase.constructor
```

#### Properties

##### sequelize

```ts
readonly sequelize: SequelizeWithGuard;
```

Defined in: [SequelizeGuard.ts:28](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/SequelizeGuard.ts#L28)

Sequelize instance

##### ready

```ts
readonly ready: Promise<void>;
```

Defined in: [SequelizeGuard.ts:46](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/SequelizeGuard.ts#L46)

Promise that resolves when SequelizeGuard is fully initialized
Await this to ensure all models are synced and cache is ready

###### Example

```typescript
const guard = new SequelizeGuard(sequelize, { sync: true });
await guard.ready;
// Now safe to use guard
```

##### migration

```ts
static migration: {
  up: (queryInterface, _Sequelize, options) => Promise<void>;
  down: (queryInterface, _Sequelize, options) => Promise<void>;
};
```

Defined in: [SequelizeGuard.ts:101](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/SequelizeGuard.ts#L101)

Migration utilities

###### up()

```ts
up: (queryInterface, _Sequelize, options) => Promise<void>;
```

Run migrations to create Guard tables

###### Parameters

###### queryInterface

`QueryInterface`

###### \_Sequelize

`Sequelize`

###### options

[`GuardOptions`](#guardoptions) = `{}`

###### Returns

`Promise`\<`void`\>

###### down()

```ts
down: (queryInterface, _Sequelize, options) => Promise<void>;
```

Rollback migrations - drop Guard tables

###### Parameters

###### queryInterface

`QueryInterface`

###### \_Sequelize

`Sequelize`

###### options

[`GuardOptions`](#guardoptions) = `{}`

###### Returns

`Promise`\<`void`\>

##### options

```ts
readonly options: GuardInternalOptions;
```

Defined in: [core/SequelizeGuardBase.ts:10](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/core/SequelizeGuardBase.ts#L10)

Guard configuration options

###### Inherited from

```ts
SequelizeGuardBase.options
```

#### Methods

##### models()

```ts
models(): GuardModels;
```

Defined in: [SequelizeGuard.ts:94](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/SequelizeGuard.ts#L94)

Get all Guard models

###### Returns

`GuardModels`

Array of models used in authorization

###### Example

```typescript
const models = guard.models();
```

##### init()

```ts
init(): GuardControl;
```

Defined in: [sequelize-guard.types.d.ts:28](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L28)

###### Returns

`GuardControl`

##### allow()

```ts
allow(
   role,
   actions,
resources): Promise<AddPermsToRoleResult>;
```

Defined in: [sequelize-guard.types.d.ts:29](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L29)

###### Parameters

###### role

`string`

###### actions

`string` | `string`[]

###### resources

`string` | `string`[]

###### Returns

`Promise`\<[`AddPermsToRoleResult`](#addpermstoroleresult)\>

##### createPerms()

```ts
createPerms(
   resources,
   actions,
options?): Promise<GuardPermissionModel[]>;
```

Defined in: [sequelize-guard.types.d.ts:36](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L36)

###### Parameters

###### resources

`string` | `string`[]

###### actions

`string` | `string`[]

###### options?

[`CreatePermsOptions`](#createpermsoptions)

###### Returns

`Promise`\<`GuardPermissionModel`[]\>

##### createPermsBulk()

```ts
createPermsBulk(permissions, options?): Promise<GuardPermissionModel[]>;
```

Defined in: [sequelize-guard.types.d.ts:41](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L41)

###### Parameters

###### permissions

[`BulkPermissionInput`](#bulkpermissioninput)[]

###### options?

[`CreatePermsOptions`](#createpermsoptions)

###### Returns

`Promise`\<`GuardPermissionModel`[]\>

##### findPerms()

```ts
findPerms(args?): Promise<GuardPermissionModel[]>;
```

Defined in: [sequelize-guard.types.d.ts:45](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L45)

###### Parameters

###### args?

[`FindPermsArgs`](#findpermsargs)

###### Returns

`Promise`\<`GuardPermissionModel`[]\>

##### onPermsCreated()

```ts
onPermsCreated(cb): UnsubscribeFn;
```

Defined in: [sequelize-guard.types.d.ts:46](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L46)

###### Parameters

###### cb

[`GuardEventCallback`](#guardeventcallback)\<`GuardPermissionModel`[]\>

###### Returns

[`UnsubscribeFn`](#unsubscribefn)

##### onPermsAddedToRole()

```ts
onPermsAddedToRole(cb): UnsubscribeFn;
```

Defined in: [sequelize-guard.types.d.ts:49](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L49)

###### Parameters

###### cb

[`GuardEventCallback`](#guardeventcallback)\<`GuardRoleModel`\>

###### Returns

[`UnsubscribeFn`](#unsubscribefn)

##### onPermsRemovedFromRole()

```ts
onPermsRemovedFromRole(cb): UnsubscribeFn;
```

Defined in: [sequelize-guard.types.d.ts:50](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L50)

###### Parameters

###### cb

[`GuardEventCallback`](#guardeventcallback)\<`GuardRoleModel`\>

###### Returns

[`UnsubscribeFn`](#unsubscribefn)

##### \_sanitizePermsInput()

```ts
_sanitizePermsInput(
   resources,
   actions,
   options?): PermissionData[];
```

Defined in: [sequelize-guard.types.d.ts:53](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L53)

###### Parameters

###### resources

`string` | `string`[]

###### actions

`string` | `string`[]

###### options?

[`CreatePermsOptions`](#createpermsoptions)

###### Returns

[`PermissionData`](#permissiondata)[]

##### makeRole()

```ts
makeRole(role): Promise<RoleCreationResult>;
```

Defined in: [sequelize-guard.types.d.ts:60](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L60)

###### Parameters

###### role

[`RoleCreationParam`](#rolecreationparam)

###### Returns

`Promise`\<[`RoleCreationResult`](#rolecreationresult)\>

##### makeRoles()

```ts
makeRoles(roles, options?): Promise<GuardRoleModel[]>;
```

Defined in: [sequelize-guard.types.d.ts:61](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L61)

###### Parameters

###### roles

[`RoleCreationParam`](#rolecreationparam)[]

###### options?

[`CreateRolesOptions`](#createrolesoptions)

###### Returns

`Promise`\<`GuardRoleModel`[]\>

##### deleteRoles()

```ts
deleteRoles(roles): Promise<number>;
```

Defined in: [sequelize-guard.types.d.ts:65](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L65)

###### Parameters

###### roles

`string` | `GuardRoleModel`[] | [`RoleCreationParam`](#rolecreationparam)[]

###### Returns

`Promise`\<`number`\>

##### allRoles()

```ts
allRoles(): Promise<GuardRoleModel[]>;
```

Defined in: [sequelize-guard.types.d.ts:68](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L68)

###### Returns

`Promise`\<`GuardRoleModel`[]\>

##### getRole()

```ts
getRole(role): Promise<GuardRoleModel | null>;
```

Defined in: [sequelize-guard.types.d.ts:69](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L69)

###### Parameters

###### role

`string`

###### Returns

`Promise`\<`GuardRoleModel` \| `null`\>

##### findRoles()

```ts
findRoles(args?): Promise<GuardRoleModel[]>;
```

Defined in: [sequelize-guard.types.d.ts:70](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L70)

###### Parameters

###### args?

[`FindRolesArgs`](#findrolesargs)

###### Returns

`Promise`\<`GuardRoleModel`[]\>

##### addPermsToRole()

```ts
addPermsToRole(
   role,
   actions,
resources): Promise<AddPermsToRoleResult>;
```

Defined in: [sequelize-guard.types.d.ts:71](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L71)

###### Parameters

###### role

`string` | `GuardRoleModel`

###### actions

`string` | `string`[]

###### resources

`string` | `string`[]

###### Returns

`Promise`\<[`AddPermsToRoleResult`](#addpermstoroleresult)\>

##### rmPermsFromRole()

```ts
rmPermsFromRole(
   role,
   actions,
resources): Promise<RemovePermsFromRoleResult>;
```

Defined in: [sequelize-guard.types.d.ts:76](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L76)

###### Parameters

###### role

`string`

###### actions

`string` | `string`[]

###### resources

`string` | `string`[]

###### Returns

`Promise`\<[`RemovePermsFromRoleResult`](#removepermsfromroleresult)\>

##### onRolesCreated()

```ts
onRolesCreated(cb): UnsubscribeFn;
```

Defined in: [sequelize-guard.types.d.ts:81](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L81)

###### Parameters

###### cb

[`GuardEventCallback`](#guardeventcallback)\<`GuardRoleModel`[]\>

###### Returns

[`UnsubscribeFn`](#unsubscribefn)

##### onRolesDeleted()

```ts
onRolesDeleted(cb): UnsubscribeFn;
```

Defined in: [sequelize-guard.types.d.ts:82](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L82)

###### Parameters

###### cb

[`GuardEventCallback`](#guardeventcallback)\<`GuardRoleModel`[]\>

###### Returns

[`UnsubscribeFn`](#unsubscribefn)

##### makeUser()

```ts
makeUser(): Promise<GuardUserModel>;
```

Defined in: [sequelize-guard.types.d.ts:85](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L85)

###### Returns

`Promise`\<`GuardUserModel`\>

##### assignRole()

```ts
assignRole(user, role): Promise<GuardUserModel>;
```

Defined in: [sequelize-guard.types.d.ts:86](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L86)

###### Parameters

###### user

`GuardUserModel`

###### role

`string`

###### Returns

`Promise`\<`GuardUserModel`\>

##### assignRoles()

```ts
assignRoles(user, roles): Promise<void>;
```

Defined in: [sequelize-guard.types.d.ts:87](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L87)

###### Parameters

###### user

`GuardUserModel`

###### roles

`string`[]

###### Returns

`Promise`\<`void`\>

##### rmAssignedRoles()

```ts
rmAssignedRoles(user, roles): Promise<void>;
```

Defined in: [sequelize-guard.types.d.ts:88](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L88)

###### Parameters

###### user

`GuardUserModel`

###### roles

`string`[]

###### Returns

`Promise`\<`void`\>

##### getUserRoles()

```ts
getUserRoles(user): Promise<GuardRoleData[]>;
```

Defined in: [sequelize-guard.types.d.ts:89](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L89)

###### Parameters

###### user

`GuardUserModel`

###### Returns

`Promise`\<`GuardRoleData`[]\>

##### userCan()

```ts
userCan(user, permission): Promise<boolean>;
```

Defined in: [sequelize-guard.types.d.ts:92](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L92)

###### Parameters

###### user

`GuardUserModel`

###### permission

`string`

###### Returns

`Promise`\<`boolean`\>

##### userCant()

```ts
userCant(user, permission): Promise<boolean>;
```

Defined in: [sequelize-guard.types.d.ts:93](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L93)

###### Parameters

###### user

`GuardUserModel`

###### permission

`string`

###### Returns

`Promise`\<`boolean`\>

##### resolvePermission()

```ts
resolvePermission(givenPermissions, wantedPermission): boolean;
```

Defined in: [sequelize-guard.types.d.ts:94](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L94)

###### Parameters

###### givenPermissions

\{
  `action`: `string`;
  `resource`: `string`;
\}[]

###### wantedPermission

`string`

###### Returns

`boolean`

##### userHasRoles()

```ts
userHasRoles(user, roles): Promise<boolean>;
```

Defined in: [sequelize-guard.types.d.ts:100](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L100)

###### Parameters

###### user

`GuardUserModel`

###### roles

`string`[]

###### Returns

`Promise`\<`boolean`\>

##### userHasAllRoles()

```ts
userHasAllRoles(user, roles): Promise<boolean>;
```

Defined in: [sequelize-guard.types.d.ts:101](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L101)

###### Parameters

###### user

`GuardUserModel`

###### roles

`string`[]

###### Returns

`Promise`\<`boolean`\>

##### userIsA()

```ts
userIsA(user, role): Promise<boolean>;
```

Defined in: [sequelize-guard.types.d.ts:102](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L102)

###### Parameters

###### user

`GuardUserModel`

###### role

`string`

###### Returns

`Promise`\<`boolean`\>

##### resetCache()

```ts
resetCache(): GuardCache;
```

Defined in: [sequelize-guard.types.d.ts:105](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L105)

###### Returns

`GuardCache`

##### getCache()

```ts
getCache(): Promise<GuardCache>;
```

Defined in: [sequelize-guard.types.d.ts:106](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L106)

###### Returns

`Promise`\<`GuardCache`\>

##### resetUserCache()

```ts
resetUserCache(): GuardUserCache;
```

Defined in: [sequelize-guard.types.d.ts:109](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L109)

###### Returns

`GuardUserCache`

##### getUserCache()

```ts
getUserCache(): GuardUserCache;
```

Defined in: [sequelize-guard.types.d.ts:110](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/sequelize-guard.types.d.ts#L110)

###### Returns

`GuardUserCache`

## Interfaces

### RoleCreationResult

Defined in: [types/api.ts:11](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L11)

Result from role creation

#### Properties

##### role

```ts
role: GuardRoleModel;
```

Defined in: [types/api.ts:12](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L12)

##### created

```ts
created: boolean;
```

Defined in: [types/api.ts:13](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L13)

***

### AddPermsToRoleResult

Defined in: [types/api.ts:19](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L19)

Result from adding permissions to role

#### Properties

##### role

```ts
role: GuardRoleModel;
```

Defined in: [types/api.ts:20](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L20)

##### permissions

```ts
permissions: GuardPermissionModel[];
```

Defined in: [types/api.ts:21](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L21)

***

### RemovePermsFromRoleResult

Defined in: [types/api.ts:27](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L27)

Result from removing permissions from role

#### Properties

##### role

```ts
role: GuardRoleModel;
```

Defined in: [types/api.ts:28](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L28)

##### permissions

```ts
permissions: GuardPermissionModel[];
```

Defined in: [types/api.ts:29](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L29)

##### permsRemoved

```ts
permsRemoved: GuardPermissionModel[];
```

Defined in: [types/api.ts:30](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L30)

***

### CreatePermsOptions

Defined in: [types/api.ts:36](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L36)

Options for creating permissions

#### Properties

##### name?

```ts
optional name: string;
```

Defined in: [types/api.ts:37](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L37)

##### names?

```ts
optional names: string[];
```

Defined in: [types/api.ts:38](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L38)

##### all?

```ts
optional all: boolean;
```

Defined in: [types/api.ts:39](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L39)

##### json?

```ts
optional json: boolean;
```

Defined in: [types/api.ts:40](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L40)

***

### CreateRolesOptions

Defined in: [types/api.ts:46](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L46)

Options for creating roles

#### Properties

##### json?

```ts
optional json: boolean;
```

Defined in: [types/api.ts:47](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L47)

##### all?

```ts
optional all: boolean;
```

Defined in: [types/api.ts:48](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L48)

***

### FindRolesArgs

Defined in: [types/api.ts:54](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L54)

Arguments for finding roles

#### Properties

##### name?

```ts
optional name: string;
```

Defined in: [types/api.ts:55](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L55)

##### names?

```ts
optional names: string[];
```

Defined in: [types/api.ts:56](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L56)

##### search?

```ts
optional search: boolean;
```

Defined in: [types/api.ts:57](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L57)

##### withParent?

```ts
optional withParent: boolean;
```

Defined in: [types/api.ts:58](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L58)

***

### FindPermsArgs

Defined in: [types/api.ts:64](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L64)

Arguments for finding permissions

#### Properties

##### name?

```ts
optional name: string;
```

Defined in: [types/api.ts:65](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L65)

##### resource?

```ts
optional resource: string;
```

Defined in: [types/api.ts:66](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L66)

##### action?

```ts
optional action: string;
```

Defined in: [types/api.ts:67](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L67)

##### search?

```ts
optional search: boolean;
```

Defined in: [types/api.ts:68](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L68)

***

### BulkPermissionInput

Defined in: [types/api.ts:74](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L74)

Bulk permission creation input

#### Properties

##### resource

```ts
resource: string;
```

Defined in: [types/api.ts:75](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L75)

##### actions

```ts
actions: string | string[];
```

Defined in: [types/api.ts:76](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L76)

##### name?

```ts
optional name: string;
```

Defined in: [types/api.ts:77](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L77)

***

### PermissionData

Defined in: [types/api.ts:83](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L83)

Internal permission data structure

#### Properties

##### name

```ts
name: string;
```

Defined in: [types/api.ts:84](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L84)

##### resource

```ts
resource: string;
```

Defined in: [types/api.ts:85](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L85)

##### action

```ts
action: string;
```

Defined in: [types/api.ts:86](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L86)

***

### RoleData

Defined in: [types/api.ts:92](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L92)

Role data structure

#### Properties

##### name

```ts
name: string;
```

Defined in: [types/api.ts:93](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L93)

##### description?

```ts
optional description: string;
```

Defined in: [types/api.ts:94](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L94)

##### parent\_id?

```ts
optional parent_id: number;
```

Defined in: [types/api.ts:95](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L95)

***

### GuardOptions

Defined in: [types/options.ts:7](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L7)

Configuration options for SequelizeGuard

#### Properties

##### tables?

```ts
optional tables: {
  meta?: string;
  parents?: string;
  permissions?: string;
  resources?: string;
  roles?: string;
  users?: string;
};
```

Defined in: [types/options.ts:11](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L11)

Table names configuration

###### meta?

```ts
optional meta: string;
```

###### parents?

```ts
optional parents: string;
```

###### permissions?

```ts
optional permissions: string;
```

###### resources?

```ts
optional resources: string;
```

###### roles?

```ts
optional roles: string;
```

###### users?

```ts
optional users: string;
```

##### prefix?

```ts
optional prefix: string;
```

Defined in: [types/options.ts:24](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L24)

Prefix for guard tables in database

###### Default

```ts
'guard_'
```

##### primaryKey?

```ts
optional primaryKey: string;
```

Defined in: [types/options.ts:30](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L30)

Primary key for guard tables

###### Default

```ts
'id'
```

##### timestamps?

```ts
optional timestamps: boolean;
```

Defined in: [types/options.ts:36](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L36)

Add timestamps to tables

###### Default

```ts
false
```

##### paranoid?

```ts
optional paranoid: boolean;
```

Defined in: [types/options.ts:42](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L42)

Enable soft deletes of items

###### Default

```ts
false
```

##### sync?

```ts
optional sync: boolean;
```

Defined in: [types/options.ts:48](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L48)

Auto create tables, set to false if using migrations

###### Default

```ts
true
```

##### debug?

```ts
optional debug: boolean;
```

Defined in: [types/options.ts:54](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L54)

Debug mode, output logs

###### Default

```ts
false
```

##### UserModel?

```ts
optional UserModel: ModelStatic<GuardUserModel> | null;
```

Defined in: [types/options.ts:60](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L60)

Model used for User (pass model, not string name)

###### Default

```ts
null
```

##### userPk?

```ts
optional userPk: string;
```

Defined in: [types/options.ts:66](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L66)

Primary key used for User Model

###### Default

```ts
'id'
```

##### safeGuardDeletes?

```ts
optional safeGuardDeletes: boolean;
```

Defined in: [types/options.ts:72](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L72)

Roles or permissions can't be deleted while associated with other data

###### Default

```ts
true
```

##### userCache?

```ts
optional userCache: boolean;
```

Defined in: [types/options.ts:78](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L78)

Cache user roles for faster permission resolution

###### Default

```ts
true
```

##### userCacheTtl?

```ts
optional userCacheTtl: number;
```

Defined in: [types/options.ts:84](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L84)

Time to cache user roles (in seconds)

###### Default

```ts
60
```

***

### GuardInternalOptions

Defined in: [types/options.ts:90](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L90)

Internal options with all defaults applied

#### Extends

- `Required`\<[`GuardOptions`](#guardoptions)\>

#### Properties

##### prefix

```ts
prefix: string;
```

Defined in: [types/options.ts:24](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L24)

Prefix for guard tables in database

###### Default

```ts
'guard_'
```

###### Inherited from

[`GuardOptions`](#guardoptions).[`prefix`](#prefix)

##### primaryKey

```ts
primaryKey: string;
```

Defined in: [types/options.ts:30](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L30)

Primary key for guard tables

###### Default

```ts
'id'
```

###### Inherited from

[`GuardOptions`](#guardoptions).[`primaryKey`](#primarykey)

##### timestamps

```ts
timestamps: boolean;
```

Defined in: [types/options.ts:36](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L36)

Add timestamps to tables

###### Default

```ts
false
```

###### Inherited from

[`GuardOptions`](#guardoptions).[`timestamps`](#timestamps)

##### paranoid

```ts
paranoid: boolean;
```

Defined in: [types/options.ts:42](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L42)

Enable soft deletes of items

###### Default

```ts
false
```

###### Inherited from

[`GuardOptions`](#guardoptions).[`paranoid`](#paranoid)

##### sync

```ts
sync: boolean;
```

Defined in: [types/options.ts:48](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L48)

Auto create tables, set to false if using migrations

###### Default

```ts
true
```

###### Inherited from

[`GuardOptions`](#guardoptions).[`sync`](#sync)

##### debug

```ts
debug: boolean;
```

Defined in: [types/options.ts:54](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L54)

Debug mode, output logs

###### Default

```ts
false
```

###### Inherited from

[`GuardOptions`](#guardoptions).[`debug`](#debug)

##### UserModel

```ts
UserModel: ModelStatic<GuardUserModel> | null;
```

Defined in: [types/options.ts:60](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L60)

Model used for User (pass model, not string name)

###### Default

```ts
null
```

###### Inherited from

[`GuardOptions`](#guardoptions).[`UserModel`](#usermodel)

##### userPk

```ts
userPk: string;
```

Defined in: [types/options.ts:66](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L66)

Primary key used for User Model

###### Default

```ts
'id'
```

###### Inherited from

[`GuardOptions`](#guardoptions).[`userPk`](#userpk)

##### safeGuardDeletes

```ts
safeGuardDeletes: boolean;
```

Defined in: [types/options.ts:72](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L72)

Roles or permissions can't be deleted while associated with other data

###### Default

```ts
true
```

###### Inherited from

[`GuardOptions`](#guardoptions).[`safeGuardDeletes`](#safeguarddeletes)

##### userCache

```ts
userCache: boolean;
```

Defined in: [types/options.ts:78](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L78)

Cache user roles for faster permission resolution

###### Default

```ts
true
```

###### Inherited from

[`GuardOptions`](#guardoptions).[`userCache`](#usercache)

##### userCacheTtl

```ts
userCacheTtl: number;
```

Defined in: [types/options.ts:84](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L84)

Time to cache user roles (in seconds)

###### Default

```ts
60
```

###### Inherited from

[`GuardOptions`](#guardoptions).[`userCacheTtl`](#usercachettl)

##### tables

```ts
tables: Required<NonNullable<GuardOptions["tables"]>>;
```

Defined in: [types/options.ts:91](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/options.ts#L91)

Table names configuration

###### Overrides

[`GuardOptions`](#guardoptions).[`tables`](#tables)

## Type Aliases

### RoleCreationParam

```ts
type RoleCreationParam = string | RoleData;
```

Defined in: [types/api.ts:6](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L6)

Result from role creation

***

### GuardEventCallback()

```ts
type GuardEventCallback<T> = (data) => void;
```

Defined in: [types/api.ts:101](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L101)

Event callback types

#### Type Parameters

##### T

`T`

#### Parameters

##### data

`T`

#### Returns

`void`

***

### UnsubscribeFn()

```ts
type UnsubscribeFn = () => void;
```

Defined in: [types/api.ts:103](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/types/api.ts#L103)

#### Returns

`void`

## Variables

### migration

```ts
migration: {
  up: (queryInterface, _Sequelize, options) => Promise<void>;
  down: (queryInterface, _Sequelize, options) => Promise<void>;
};
```

Defined in: [migrations/guard-migrations.ts:108](https://github.com/lotivo/sequelize-guard/blob/99f88d386f45ff6e08f03b9af1c0d97e01adba01/src/migrations/guard-migrations.ts#L108)

#### Type Declaration

##### up()

```ts
up: (queryInterface, _Sequelize, options) => Promise<void>;
```

Run migrations to create Guard tables

###### Parameters

###### queryInterface

`QueryInterface`

###### \_Sequelize

`Sequelize`

###### options

[`GuardOptions`](#guardoptions) = `{}`

###### Returns

`Promise`\<`void`\>

##### down()

```ts
down: (queryInterface, _Sequelize, options) => Promise<void>;
```

Rollback migrations - drop Guard tables

###### Parameters

###### queryInterface

`QueryInterface`

###### \_Sequelize

`Sequelize`

###### options

[`GuardOptions`](#guardoptions) = `{}`

###### Returns

`Promise`\<`void`\>

## References

### default

Renames and re-exports [SequelizeGuard](#sequelizeguard)
